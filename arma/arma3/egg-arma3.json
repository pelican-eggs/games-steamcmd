{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PANEL",
    "meta": {
        "version": "PLCN_v1",
        "update_url": "https:\/\/raw.githubusercontent.com\/pelican-eggs\/games-steamcmd\/refs\/heads\/main\/arma\/arma3\/egg-arma3.json"
    },
    "exported_at": "2025-06-06T16:53:31-07:00",
    "name": "Arma 3",
    "author": "red_thirten@yahoo.com",
    "uuid": "1cc1d168-9896-4e4d-b26a-7a649c2d3a57",
    "description": "Experience true combat gameplay in a massive military sandbox. Deploying a wide variety of single and multiplayer content, over 20 vehicles and 40 weapons, and limitless opportunities for content creation, this is the PC's premier military game. Authentic, diverse, open - Arma 3 sends you to war.",
    "features": [
        "steam_disk_space"
    ],
    "docker_images": {
        "ghcr.io\/parkervcp\/games:arma3": "ghcr.io\/parkervcp\/games:arma3"
    },
    "file_denylist": [],
    "startup": ".\/{{SERVER_BINARY}} -par=startup_params_server.txt",
    "config": {
        "files": "{\r\n    \"server.cfg\": {\r\n        \"parser\": \"file\",\r\n        \"find\": {\r\n            \"password=\": \"password = \\\"{{server.environment.SERVER_PASSWORD}}\\\";\",\r\n            \"\/\/password=\": \"password = \\\"{{server.environment.SERVER_PASSWORD}}\\\";\",\r\n            \"password =\": \"password = \\\"{{server.environment.SERVER_PASSWORD}}\\\";\",\r\n            \"\/\/password =\": \"password = \\\"{{server.environment.SERVER_PASSWORD}}\\\";\",\r\n            \"maxPlayers\": \"maxPlayers = {{server.environment.MAX_PLAYERS}};\",\r\n            \"headlessClients\": \"headlessClients[] = { \\\"127.0.0.1\\\" };\",\r\n            \"localClient\": \"localClient[] = { \\\"127.0.0.1\\\" };\"\r\n        }\r\n    },\r\n    \"battleye\/launch\/beserver.cfg\": {\r\n        \"parser\": \"file\",\r\n        \"find\": {\r\n            \"RConPassword\": \"RConPassword {{server.environment.RCON_PASSWORD}}\",\r\n            \"RConPort\": \"RConPort {{server.environment.RCON_PORT}}\"\r\n        }\r\n    },\r\n    \"battleye\/launch\/beserver_x64.cfg\": {\r\n        \"parser\": \"file\",\r\n        \"find\": {\r\n            \"RConPassword\": \"RConPassword {{server.environment.RCON_PASSWORD}}\",\r\n            \"RConPort\": \"RConPort {{server.environment.RCON_PORT}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"Host identity created.\"\r\n}",
        "logs": "{}",
        "stop": "^C"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\n\r\n## File: Pelican Arma 3 Egg - egg-arma3.json\r\n## Author: David Wolfe (Red-Thirten)\r\n## Date: 2025\/03\/24\r\n## License: MIT License\r\n## Image to install with is 'ghcr.io\/parkervcp\/installers:debian'\r\n\r\n# Download URL for a default Arma 3 server.cfg\r\n# (Feel free to modify to your own preferred, self-hosted file if you wish)\r\nSERVER_CFG_URL=\"https:\/\/raw.githubusercontent.com\/pelican-eggs\/games-steamcmd\/main\/arma\/arma3\/egg-arma3-config\/server.cfg\"\r\n\r\n# Install packages. Default packages below are skipped if using image noted above, thus speeding up the install process.\r\napt -y update\r\napt -y --no-install-recommends install curl lib32gcc-s1 ca-certificates\r\n\r\n# Check for valid Steam credentials to download Arma 3 with (requires valid Steam account)\r\nif [[ \"${STEAM_USER}\" == \"\" ]] || [[ \"${STEAM_USER}\" == \"anonymous\" ]] || [[ \"${STEAM_PASS}\" == \"\" ]]; then\r\n    echo -e \"INSTALLATION ERROR: A valid REAL Steam account is required to download the Arma 3 Dedicated Server.\"\r\n    echo -e \"\\t(\\\"anonymous\\\" account cannot be used. Game ownership is not required.)\"\r\n    exit 1\r\nfi\r\n\r\n# Download and install SteamCMD\r\ncd \/tmp\r\nmkdir -p \/mnt\/server\/steamcmd \/mnt\/server\/steamapps\r\ncurl -sSL -o steamcmd.tar.gz https:\/\/steamcdn-a.akamaihd.net\/client\/installer\/steamcmd_linux.tar.gz\r\ntar -xzvf steamcmd.tar.gz -C \/mnt\/server\/steamcmd\r\ncd \/mnt\/server\/steamcmd\r\n\r\n# SteamCMD fails otherwise for some reason, even running as root.\r\nchown -R root:root \/mnt\r\nexport HOME=\/mnt\/server\r\n\r\n# Install game server using SteamCMD\r\necho -e \"\\nInstalling\/Validating Arma 3 Dedicated Server Files...\"\r\necho -e \"(It is okay to ignore any \\\"SDL\\\", \\\"steamservice\\\", and \\\"thread priority\\\" errors during this process)\"\r\nif [[ -n ${STEAMCMD_BETAID} ]]; then\r\n    echo -e \"\\tDownload\/Update of \\\"${STEAMCMD_BETAID}\\\" branch enabled.\"\r\nfi\r\necho -e \"\"\r\n.\/steamcmd.sh +force_install_dir \/mnt\/server \"+login \\\"${STEAM_USER}\\\" \\\"${STEAM_PASS}\\\"\" +app_update ${STEAMCMD_APPID} $( [[ -n ${STEAMCMD_BETAID} ]] && printf %s \"-beta ${STEAMCMD_BETAID}\" ) validate +quit\r\n\r\n# Set up 32 and 64 bit libraries\r\nmkdir -p \/mnt\/server\/.steam\/sdk{32,64}\r\ncp -v linux32\/steamclient.so \/mnt\/server\/.steam\/sdk32\/steamclient.so\r\ncp -v linux64\/steamclient.so \/mnt\/server\/.steam\/sdk64\/steamclient.so\r\n\r\n# Arma 3 setup\r\ncd \/mnt\/server\/\r\n[[ -f server.cfg ]] || curl -sSLO ${SERVER_CFG_URL} # Download default server.cfg file\r\n[[ -f basic.cfg ]] || curl -sSLO ${BASIC_CFG_URL} # Download default basic.cfg file\r\nchmod 644 server.cfg basic.cfg\r\nmkdir -p .\/battleye\/launch # Create BattlEye config files\r\ntee .\/battleye\/launch\/beserver.cfg .\/battleye\/launch\/beserver_x64.cfg > \/dev\/null <<EOF\r\nRConPassword $RCON_PASSWORD\r\nRConPort $RCON_PORT\r\nEOF\r\n\r\nif [[ -f \"arma3server_x64\" && -f \"server.cfg\" && -f \"basic.cfg\" ]]; then\r\n    echo -e \"\\nArma 3 Dedicated Server successfully installed!\\n\"\r\nelse\r\n    echo -e \"\\n\\nFailed to install the Arma 3 Dedicated Server!\"\r\n    echo -e \"\\tReview the installation logs for any errors before trying again.\\n\"\r\n    exit 1\r\nfi",
            "container": "ghcr.io\/parkervcp\/installers:debian",
            "entrypoint": "\/bin\/bash"
        }
    },
    "variables": [
        {
            "name": "[Host] Steam Username",
            "description": "Used for installation and updates. Account does not need to own Arma 3, but MUST BE a VALID Steam account (anonymous login cannot be used). For security reasons it is recommended that you create a new Steam account just for your dedicated servers. *This info is not visible to the server owner.*",
            "env_variable": "STEAM_USER",
            "default_value": "",
            "user_viewable": false,
            "user_editable": false,
            "rules": [
                "required",
                "string"
            ],
            "sort": 1
        },
        {
            "name": "[Host] Steam Password",
            "description": "Used for installation and updates. Steam Guard MUST be completely TURNED OFF for install to complete successfully. *This info is not visible to the server owner, BUT IS stored in PLAIN TEXT. It is NOT advised to use a personal account; best to use a dummy account.*",
            "env_variable": "STEAM_PASS",
            "default_value": "",
            "user_viewable": false,
            "user_editable": false,
            "rules": [
                "required",
                "string"
            ],
            "sort": 2
        },
        {
            "name": "[Host] Number of SteamCMD Retry Attempts",
            "description": "How many times SteamCMD should retry downloading a server or mod after a recoverable error. (ie. A particularly large mod like CUP or RHS download times out)",
            "env_variable": "STEAMCMD_ATTEMPTS",
            "default_value": "3",
            "user_viewable": false,
            "user_editable": false,
            "rules": [
                "required",
                "integer"
            ],
            "sort": 3
        },
        {
            "name": "[Host] RCon Port",
            "description": "BattlEye's RCon port for remote connections with an Arma 3 compliant RCon client\/tool. If set to 0, remote connections are disabled. (Note: This port is different from the \"BattlEye traffic\" port and must be unique)",
            "env_variable": "RCON_PORT",
            "default_value": "",
            "user_viewable": true,
            "user_editable": false,
            "rules": [
                "required",
                "integer",
                "between:0,65536"
            ],
            "sort": 4
        },
        {
            "name": "Automatic Updates",
            "description": "Quickly checks for any server or mod updates on startup, and updates if necessary. (1 Enable | 0 Disable)",
            "env_variable": "UPDATE_SERVER",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 5
        },
        {
            "name": "Arma 3 Branch (CDLC, etc.)",
            "description": "Downloads\/Updates a specific Arma 3 branch during server install or the next Automatic Update. Leave blank for the default branch. \"creatordlc\" will install all mod files required to run any Creator DLC (CDLC). CDLCs can be enabled by adding their mod folder name to the \"Additional Mods\" startup variable. For example, add \"vn;\" to load the Prairie Fire CDLC. \"profiling\" is for running the special profiling build of the server.",
            "env_variable": "STEAMCMD_BETAID",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string",
                "in:,creatordlc,profiling"
            ],
            "sort": 6
        },
        {
            "name": "Server Binary",
            "description": "Server binary to call on server start. (32-bit: arma3server | 64-bit: arma3server_x64)",
            "env_variable": "SERVER_BINARY",
            "default_value": "arma3server_x64",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "required",
                "string",
                "in:arma3server,arma3server_x64,arma3serverprofiling,arma3serverprofiling_x64"
            ],
            "sort": 7
        },
        {
            "name": "Max Players",
            "description": "Maximum number of players allowed to join the server.",
            "env_variable": "MAX_PLAYERS",
            "default_value": "32",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "required",
                "integer",
                "gt:0"
            ],
            "sort": 8
        },
        {
            "name": "Server Password",
            "description": "Password required to join the server. Leave blank to have no password.",
            "env_variable": "SERVER_PASSWORD",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string"
            ],
            "sort": 9
        },
        {
            "name": "Modlist File (Exported from A3 Launcher)",
            "description": "Filename for a modlist exported from the Arma 3 Launcher. This file will be parsed for mod installation and loading. Upload your HTML file to the root directory (eg. \/home\/container\/modlist.html). Leave blank to disable loading mods from a modlist.",
            "env_variable": "MOD_FILE",
            "default_value": "modlist.html",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string"
            ],
            "sort": 10
        },
        {
            "name": "Additional Mods",
            "description": "A semicolon-separated list of additional mod folders to load. Useful for loading CDLCs or manually uploaded mods. This mod list will be loaded in addition to the Modlist File (if used). Any mods in this list that are in \"@workshopID\" form will also be included in Automatic Updates (if enabled). NO capital letters, spaces, or folders starting with a number! (ex. myMod;vn;@123456789;@987654321;etc;)",
            "env_variable": "MODIFICATIONS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string"
            ],
            "sort": 11
        },
        {
            "name": "Disable Verbose Logging",
            "description": "Adds the \"-noLogs\" startup parameter. Significantly reduces console output\/spam. Note: Enabling this will also prevent `.rpt` logs from being generated.",
            "env_variable": "PARAM_NOLOGS",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 12
        },
        {
            "name": "Load Mission To Memory",
            "description": "Adds the \"-loadMissionToMemory\" startup parameter. Server will load mission into memory on first client downloading it. Then it keeps it pre-processed & pre-cached in memory for next clients, saving some server CPU cycles.",
            "env_variable": "PARAM_LOADMISSIONTOMEMORY",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 13
        },
        {
            "name": "Auto Initialize Mission",
            "description": "Adds the \"-autoInit\" startup parameter. Automatically initializes the mission just like the first client does. The server config file (server.cfg) must contain `persistent = 1;` otherwise this parameter is skipped.",
            "env_variable": "PARAM_AUTOINIT",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 14
        },
        {
            "name": "RCon Password",
            "description": "BattlEye's RCon password for remote connections with an Arma 3 compliant RCon client\/tool. It is recommended to choose a strong password that only contains alpha-numerics. The server config file (server.cfg) must contain `BattlEye = 1;` otherwise RCon is disabled.",
            "env_variable": "RCON_PASSWORD",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "alpha_num"
            ],
            "sort": 15
        },
        {
            "name": "[Advanced] Server-Side Only Mods",
            "description": "Mod folders to be used with the \"-serverMods\" startup option. They only run server-side and are not required by clients if \"verifySignatures\" is enabled in your server.cfg file. Any mods in this list that are in \"@workshopID\" form will also be included in Automatic Updates (if enabled). NO capital letters, spaces, or folders starting with a number! Each folder must be followed with a semicolon (ex. @123456789;@987654321;etc;)",
            "env_variable": "SERVERMODS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string"
            ],
            "sort": 16
        },
        {
            "name": "[Advanced] Optional Client-Side Mods",
            "description": "A semicolon-separated list of optional mods to load into the keys folder, but not include in server's mod parameter. Useful for allowing clients to connect to the server with or without the mod loaded. Mods in this list must be in \"@workshopID\" form (ex. @123456789;@987654321;). These will also be included in Automatic Updates (if enabled).",
            "env_variable": "OPTIONALMODS",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "nullable",
                "string"
            ],
            "sort": 17
        },
        {
            "name": "[Advanced] Enable File Patching",
            "description": "Adds the \"-filePatching\" startup parameter. Allows the game to load unpacked data. Value will be applied to HCs as well.",
            "env_variable": "PARAM_FILEPATCHING",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 18
        },
        {
            "name": "[Advanced] Server FPS",
            "description": "Adjusts the maximum number of simulation cycles the server will try to run per second. Higher values mean network messages are sent out more frequently, entities (units\/vehicles\/projectiles\/etc) are simulated more often, as well as AI behavior and vision calculations are done more often. The practical impact of higher values vary based on the mission file, and may cause additional unwanted overhead. Adjust with caution. Value will be applied to HCs as well.",
            "env_variable": "PARAM_LIMITFPS",
            "default_value": "50",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "required",
                "integer",
                "between:5,1000"
            ],
            "sort": 19
        },
        {
            "name": "[Advanced] Headless Clients (HC)",
            "description": "Number of Headless Clients (0 - 5) to launch parallel with the server. Be sure to set the following \"HC Connect Password\" variable if your server is password locked. PLEASE NOTE: Using a headless client is only recommended for advanced users, adds extra overhead to your permitted server resources, and is only beneficial if a properly written, HC compliant mission file is provided. See https:\/\/community.bistudio.com\/wiki\/Arma_3:_Headless_Client for more info.",
            "env_variable": "HC_NUM",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "required",
                "integer",
                "between:0,5"
            ],
            "sort": 20
        },
        {
            "name": "[Advanced] HC Hide Console Output",
            "description": "Hides Headless Client console output (except for critical errors) to prevent nonessential console spam.",
            "env_variable": "HC_HIDE",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 21
        },
        {
            "name": "[Repair] Make Mod Files Lowercase",
            "description": "Every mod that is set to be loaded will have its folder and files changed to lowercase (to prevent errors). It is recommended to enable this for one server boot after copying a mod from a Windows machine to the server, or if mods seem to not be loading.",
            "env_variable": "MODS_LOWERCASE",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 22
        },
        {
            "name": "[Repair] Validate Server Files",
            "description": "Validates all server files when Automatic Updates is enabled. Note: This will significantly increase server startup times, so it is recommended to only enable this when needed.",
            "env_variable": "VALIDATE_SERVER",
            "default_value": "0",
            "user_viewable": true,
            "user_editable": true,
            "rules": [
                "boolean"
            ],
            "sort": 23
        },
        {
            "name": "[System] Arma 3 Dedicated Server App ID",
            "description": "Used for installation and updates. Rarely needs to be changed.",
            "env_variable": "STEAMCMD_APPID",
            "default_value": "233780",
            "user_viewable": false,
            "user_editable": false,
            "rules": [
                "required",
                "integer"
            ],
            "sort": 24
        },
        {
            "name": "[System] basic.cfg URL",
            "description": "URL to a valid Arma 3 basic.cfg file. The \"Basic\" configuration file is used during server runtime for advanced network performance tuning. Because it is a required file, this URL is used to download it during installation, or if the file is found missing during startup.",
            "env_variable": "BASIC_CFG_URL",
            "default_value": "https:\/\/raw.githubusercontent.com\/pelican-eggs\/games-steamcmd\/main\/arma\/arma3\/egg-arma3-config\/basic.cfg",
            "user_viewable": false,
            "user_editable": false,
            "rules": [
                "required",
                "url"
            ],
            "sort": 25
        }
    ]
}